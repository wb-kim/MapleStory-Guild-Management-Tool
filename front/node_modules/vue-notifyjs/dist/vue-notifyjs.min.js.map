{"version":3,"file":null,"sources":["../src/Notification.js","../src/Notifications.js","../src/index.js"],"sourcesContent":["export default {\r\n    name: 'notification',\r\n    props: {\r\n        message: String,\r\n        title: String,\r\n        icon: String,\r\n        verticalAlign: {\r\n            type: String,\r\n            default: 'top',\r\n            validator: (value) => {\r\n                let acceptedValues = ['top', 'bottom']\r\n                return acceptedValues.indexOf(value) !== -1\r\n            }\r\n        },\r\n        horizontalAlign: {\r\n            type: String,\r\n            default: 'right',\r\n            validator: (value) => {\r\n                let acceptedValues = ['left', 'center', 'right']\r\n                return acceptedValues.indexOf(value) !== -1\r\n            }\r\n        },\r\n        type: {\r\n            type: String,\r\n            default: 'info',\r\n            validator: (value) => {\r\n                let acceptedValues = ['info', 'primary', 'danger', 'warning', 'success']\r\n                return acceptedValues.indexOf(value) !== -1\r\n            }\r\n        },\r\n        timeout: {\r\n            type: Number,\r\n            default: 5000,\r\n            validator: (value) => {\r\n                return value > 0\r\n            }\r\n        },\r\n        timestamp: {\r\n            type: Date,\r\n            default: () => new Date()\r\n        },\r\n        component: {\r\n            type: [Object, Function]\r\n        },\r\n        showClose: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        closeOnClick: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        clickHandler: Function,\r\n    },\r\n    data () {\r\n        return {\r\n            elmHeight: 0\r\n        }\r\n    },\r\n    computed: {\r\n        hasIcon () {\r\n            return this.icon && this.icon.length > 0\r\n        },\r\n        alertType () {\r\n            return `alert-${this.type}`\r\n        },\r\n        customPosition () {\r\n            let initialMargin = 20\r\n            let alertHeight = this.elmHeight + 10;\r\n            let sameAlertsCount = this.$notifications.state.filter((alert) => {\r\n                return alert.horizontalAlign === this.horizontalAlign && alert.verticalAlign === this.verticalAlign && alert.timestamp <= this.timestamp\r\n            }).length\r\n            if (this.$notifications.settings.overlap) {\r\n                sameAlertsCount = 1\r\n            }\r\n            let pixels = (sameAlertsCount - 1) * alertHeight + initialMargin\r\n            let styles = {}\r\n            if (this.verticalAlign === 'top') {\r\n                styles.top = `${pixels}px`\r\n            } else {\r\n                styles.bottom = `${pixels}px`\r\n            }\r\n            return styles\r\n        }\r\n    },\r\n    methods: {\r\n        close () {\r\n\r\n            this.$emit('close', this.timestamp)\r\n        },\r\n        tryClose (evt) {\r\n            if(this.clickHandler){\r\n                this.clickHandler(evt)\r\n            }\r\n            if (this.closeOnClick) {\r\n                this.close()\r\n            }\r\n        }\r\n    },\r\n    mounted () {\r\n        this.elmHeight = this.$el.clientHeight\r\n        if (this.timeout) {\r\n            setTimeout(this.close, this.timeout)\r\n        }\r\n    },\r\n    render (h) {\r\n        let componentName = this.component\r\n        return (\r\n            <div onClick={this.tryClose}\r\n                 data-notify=\"container\"\r\n                 class={['alert open ', {'alert-with-icon': this.icon}, this.verticalAlign, this.horizontalAlign, this.alertType]}\r\n                 role=\"alert\"\r\n                 style={this.customPosition}\r\n                 data-notify-position=\"top-center\">\r\n                {\r\n                    this.showClose && <button\r\n                                        type=\"button\"\r\n                                        aria-hidden=\"true\"\r\n                                        class=\"close col-xs-1\"\r\n                                        data-notify=\"dismiss\"\r\n                                        onClick={this.close}>Ã—\r\n                                    </button>\r\n                }\r\n                {\r\n                    this.icon && <span data-notify=\"icon\" class={['alert-icon', this.icon]}></span>\r\n                }\r\n                <span data-notify=\"message\">\r\n                    {this.title !== undefined && <span class=\"title\"><b>{this.title}<br/></b></span>}\r\n                    {this.message !== undefined && this.message}\r\n                    {this.component !== undefined &&\r\n                    <this.component></this.component>}\r\n        </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import Notification from './Notification.js'\r\nexport default {\r\n    props: {\r\n        transitionName: {\r\n            type: String,\r\n            default: 'list'\r\n        },\r\n        transitionMode: {\r\n            type: String,\r\n            default: 'in-out'\r\n        },\r\n        overlap: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            notifications: this.$notifications.state\r\n        }\r\n    },\r\n    methods: {\r\n        removeNotification (timestamp) {\r\n            this.$notifications.removeNotification(timestamp)\r\n        }\r\n    },\r\n    created(){\r\n        this.$notifications.settings.overlap = this.overlap\r\n    },\r\n    render(){\r\n        const renderedNotifications = this.$notifications.state.map((notification, index) => {\r\n                return <Notification\r\n                    horizontalAlign={notification.horizontalAlign}\r\n                    verticalAlign={notification.verticalAlign}\r\n                    icon={notification.icon}\r\n                    message={notification.message}\r\n                    title={notification.title}\r\n                    timeout={notification.timeout}\r\n                    type={notification.type}\r\n                    component={notification.component}\r\n                    timestamp={notification.timestamp}\r\n                    closeOnClick={notification.closeOnClick}\r\n                    clickHandler={notification.onClick}\r\n                    showClose={notification.showClose}\r\n                    key={notification.timestamp.getTime()} onClose={this.removeNotification}/>\r\n            }\r\n        )\r\n        return (\r\n            <div class=\"notifications vue-notifyjs\">\r\n                <transition-group name={this.transitionName} mode={this.transitionMode}>\r\n                    {renderedNotifications}\r\n                </transition-group>\r\n            </div>\r\n        )\r\n    },\r\n    watch: {\r\n        overlap: function (newVal) {\r\n            this.$notifications.settings.overlap = newVal\r\n        }\r\n    }\r\n}\r\n","import Notifications from './Notifications.js'\r\n\r\nconst NotificationStore = {\r\n    state: [], // here the notifications will be added\r\n    settings: {\r\n        overlap: false,\r\n        verticalAlign: 'top',\r\n        horizontalAlign: 'right',\r\n        type: 'info',\r\n        timeout: 5000,\r\n        closeOnClick: true,\r\n        showClose: true\r\n    },\r\n    setOptions (options) {\r\n        this.settings = {...this.settings, ...options}\r\n    },\r\n    removeNotification (timestamp) {\r\n        const indexToDelete = this.state.findIndex(n => n.timestamp === timestamp)\r\n        if (indexToDelete !== -1) {\r\n            this.state.splice(indexToDelete, 1)\r\n        }\r\n    },\r\n    addNotification(notification){\r\n        if (typeof notification === 'string' || notification instanceof String){\r\n            notification = {message: notification}\r\n        }\r\n        notification.timestamp = new Date()\r\n        notification.timestamp.setMilliseconds(notification.timestamp.getMilliseconds() + this.state.length)\r\n        notification = {...this.settings, ...notification}\r\n        this.state.push(notification)\r\n    },\r\n    notify (notification) {\r\n        if (Array.isArray(notification)) {\r\n            notification.forEach((notificationInstance) => {\r\n                this.addNotification(notificationInstance)\r\n            })\r\n        } else {\r\n            this.addNotification(notification)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst NotificationsPlugin = {\r\n    install (Vue, options) {\r\n        Vue.mixin({\r\n            data(){\r\n                return {\r\n                    notificationStore: NotificationStore\r\n                }\r\n            },\r\n            methods: {\r\n                notify(notification) {\r\n                    this.notificationStore.notify(notification);\r\n                }\r\n            }\r\n        })\r\n        Object.defineProperty(Vue.prototype, '$notify', {\r\n            get () {\r\n                return this.$root.notify\r\n            }\r\n        })\r\n        Object.defineProperty(Vue.prototype, '$notifications', {\r\n            get () {\r\n                return this.$root.notificationStore\r\n            }\r\n        })\r\n        Vue.component('Notifications', Notifications)\r\n        if(options){\r\n            NotificationStore.setOptions(options)\r\n        }\r\n    }\r\n}\r\n\r\nexport default NotificationsPlugin\r\n"],"names":["String","value","indexOf","Number","Date","Object","Function","Boolean","this","icon","length","type","alertHeight","elmHeight","sameAlertsCount","$notifications","state","filter","alert","horizontalAlign","_this","verticalAlign","timestamp","settings","overlap","pixels","styles","top","bottom","$emit","evt","clickHandler","closeOnClick","close","$el","clientHeight","timeout","h","component","tryClose","alert-with-icon","alertType","style","customPosition","showClose","data-notify","undefined","title","class","message","removeNotification","renderedNotifications","map","notification","index","onClick","getTime","name","transitionName","mode","transitionMode","newVal","NotificationStore","options","indexToDelete","findIndex","n","splice","setMilliseconds","getMilliseconds","push","Array","isArray","forEach","notificationInstance","addNotification","Vue","mixin","notificationStore","notify","defineProperty","prototype","$root","Notifications","setOptions"],"mappings":"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"}