<html>
    <head>
        <meta charset="utf-8">
        <title>검은 마법사 타이머</title>
    </head>
    <body>
        <div>
            <p>디자인 안할꺼야~<br><br></p>
            <p id="curTime">60:00</p>
            <p id="nextGTime">권능/장벽 시간</p>
            <p id="nextSTime">사선 시간</p>
            <div>
                <button onClick="btnPhase1()">1페 장벽</button>
                <button onClick="btnPhase2G()">2페 권능</button>
                <button onClick="btnPhase2S()">2페 사선</button>
                <button onClick="btnPhase3G()">3페 권능</button>
                <button onClick="btnPhase3S()">3페 사선</button>
                <button onClick="btnPhase4G()">4페 권능</button>
            </div>
            <div>
                <button onClick="btnStart()">시작</button>
                <button onClick="btnP10sec()">+10초</button>
                <button onClick="btnP1sec()">+1초</button>
                <button onClick="btnM1sec()">-1초</button>
                <button onClick="btnM10sec()">-10초</button>
                <button onClick="btnReset()">종료/초기화</button>                
            </div>
	    <p>1. 2페 권능은 쉴드 생긴 기점 <br>2. 3페 권능은 발동 시점</p>
        </div>
    </body>
</html>
<script>
    var total = 3600;
    var minute;
    var second;
    var gTime = 0;
    var sTime = 0;
    var g1 = 0;
    var g2 = 0;
    var g3 = 0;
    var g4 = 0;
    

    function btnStart() {
        tid = setInterval('timer()', 1000);
    };

    function timer() {
        if (total < 0) {
            clearInterval(tid);
            total = 0;
        }
        var mm = (Math.floor)(total / 60);
        minute = String(mm);
        second = String(total % 60);
        document.getElementById("curTime").innerHTML = "현재 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
        total--;
    }

    function btnPhase1() {
        if (g1 == 0) {
            gTime = total - 40;
        } else {
            gTime = gTime - 40;        
        }
        var mm = (Math.floor)(gTime / 60);
        minute = String(mm);
        second = String(gTime % 60);
        document.getElementById("nextGTime").innerHTML = "1페)다음 장벽 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
    }
    
    function btnPhase2G() {
        if (g2 == 0) {
            gTime = total - 60;
        } else {
            gTime = gTime - 60;        
        }
        var mm = (Math.floor)(gTime / 60);
        minute = String(mm);
        second = String(gTime % 60);
        document.getElementById("nextGTime").innerHTML = "2페)다음 권능 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
    }
    
    function btnPhase2S() {
        sTime = total - 50;
        var mm = (Math.floor)(sTime / 60);
        minute = String(mm);
        second = String(sTime % 60);
        document.getElementById("nextSTime").innerHTML = "2페)다음 사선 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
    }

    function btnPhase3G() {
        if (g3 == 0) {
            gTime = total - 66;
        } else {
            gTime = gTime - 66;        
        }
        var mm = (Math.floor)(gTime / 60);
        minute = String(mm);
        second = String(gTime % 60);
        document.getElementById("nextGTime").innerHTML = "3페)다음 권능 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
    }
    
    function btnPhase3S() {
        sTime = total - 35;
        var mm = (Math.floor)(sTime / 60);
        minute = String(mm);
        second = String(sTime % 60);
        document.getElementById("nextSTime").innerHTML = "3페)다음 사선 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
    }

    function btnPhase4G() {
        if (g4 == 0) {
            gTime = total - 30;
        } else {
            gTime = gTime - 30;        
        }
        var mm = (Math.floor)(gTime / 60);
        minute = String(mm);
        second = String(gTime % 60);
        document.getElementById("nextGTime").innerHTML = "4페)다음 권능 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
    }
    
    function btnP10sec() {
        total += 10;
    }
    
    function btnP1sec() {
        total += 1;
    }
    
    function btnM1sec() {
        total -= 1;
    }
    
    function btnM10sec() {
        total -= 10;
    }
    
    function btnReset() {
        total = 3600;
        gTime = 0;
        sTime = 0;
        g1 = 0;
        g2 = 0;
        g3 = 0;
        g4 = 0;

        clearInterval(tid);

        var mm = (Math.floor)(total / 60);
        minute = String(mm);
        second = String(total % 60);
        document.getElementById("curTime").innerHTML = "현재 시간  " + minute.padStart(2, '0') + ":" + second.padStart(2, '0');
        document.getElementById("nextGTime").innerHTML = "권능/장벽 시간";
        document.getElementById("nextSTime").innerHTML = "사선 시간";
    }
    
</script>
